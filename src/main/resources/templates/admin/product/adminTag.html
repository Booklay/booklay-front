<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<form>
  <input type="text">
  <input type="submit" value="검색">
</form>
<hr>
<table>
  <thead>
  <tr>
    <th>테그 번호</th>
    <th>테그 이름</th>
  </tr>
  </thead>
  <tbody>
  <th:block th:each="tag : ${tagList}">
    <tr>
      <td><span th:text="${tag.id}"/></td>
      <td>
        <form method="put" action="/admin/product/tag/maintenance">
          <input type="number" th:value="${tag.id}" hidden/>
          <input class="name-input" type="text" th:value="${tag.name}" disabled="disabled"/>
          <input class="submit-btn" type="submit" value="수정 제출" hidden="hidden"/>
          <span class="update-button">수정</span>
        </form>
      </td>
    </tr>
  </th:block>
  </tbody>

  <script>
    const updateBtns = document.querySelectorAll('.update-button');
    updateBtns.forEach(function (item) {
      item.addEventListener('click', function () { // 클릭 이벤트 발생시,
        var form1 = this.closest('form'); // 클릭 이벤트가 발생한 버튼에 제일 가까운 폼을 찾고,
        form1.querySelector('.name-input').toggleAttribute('disabled')
        form1.querySelector('.submit-btn').toggleAttribute('hidden')
      });
    });
  </script>

</table>


<hr>
<h3>테그 등록</h3>
<form method="post" action="/admin/product/tag/maintenance">
  <p>테그명 : <input type="text" name="name">
    <input type="submit" value="등록"/></p>
</form>

</body>
</html>