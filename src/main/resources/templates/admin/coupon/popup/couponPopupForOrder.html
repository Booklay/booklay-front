<!DOCTYPE html>
<head>
    <!-- Favicon -->
    <link th:href="@{/img/favicon.ico}" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
          rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link th:href="@{/lib/owlcarousel/assets/owl.carousel.min.css}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link th:href="@{/css/style.css}" rel="stylesheet">
  <script src="/js/coupon/couponPopup.js"></script>
  <script src="/js/popup/popupSetting.js"></script>
</head>
<html lang="ko">
<h2>쿠폰 선택</h2>
<th:block th:if="${not #strings.isEmpty(targetId)}">
    <span style="display: none" id="targetId" th:text="${targetId}"></span>
    <span style="display: none" id="productNo" th:text="${productNo}"></span>
    <span style="display: none" id="isDuplicable" th:text="${isDuplicable}"></span>
</th:block>
<div id="header-carousel" class="carousel slide" data-ride="carousel">
    <div th:if="${#lists.isEmpty(list)}">
        <div>등록된 쿠폰이 없습니다.</div>
    </div>
    <div th:unless="${#lists.isEmpty(list)}">
        <table border="1px">
            <tr>
                <td>번호</td>
                <td>쿠폰 ID</td>
                <td>쿠폰 이름</td>
                <td>쿠폰 타입</td>
                <td>할인량</td>
                <td>최소사용금액</td>
                <td>최대할인금액</td>
                <td>수량제한</td>
                <td></td>
            </tr>
            <tbody id="couponTableBody">
            <tr th:each="coupon, couponStat :${list}" th:name="${coupon.couponCode}" th:id="${coupon.id}">
                <td><p th:text="${couponStat.count}"></p></td>
                <td><p th:text="${coupon.id}"></p></td>
                <td><p th:text="${coupon.name}"></p></td>
                <td><p th:text="${coupon.typeName}"></p></td>
                <td><p th:text="${coupon.amount}"></p></td>
                <td><p th:text="${coupon.minimumUseAmount}" th:id="${coupon.id+'minimum'}"></p></td>
                <td><p th:text="${coupon.maximumDiscountAmount}"></p></td>
                <td>
                    <p th:if="${coupon.isLimited}">O</p>
                    <p th:unless="${coupon.isLimited}">X</p>
                </td>
                <td><input type="button" value="선택" th:id="${coupon.couponCode}"></td>
            </tr>
            </tbody>
        </table>
        <th:block th:include="fragments/pageFooter"/>
    </div>
</div>
</html>
